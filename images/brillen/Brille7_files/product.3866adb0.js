!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="3e8f965d-4b0b-4bb3-a9a7-47b9eb8a9a66",e._sentryDebugIdIdentifier="sentry-dbid-3e8f965d-4b0b-4bb3-a9a7-47b9eb8a9a66")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"00366d72d657503f9ceb4d0bb693214f7c8f4f83"},(self.webpackChunk=self.webpackChunk||[]).push([[3018],{29466:function(e,t,r){r.r(t)},59888:function(e,t,r){r.r(t)},32398:function(e,t,r){r.r(t)},41702:function(e,t,r){r.r(t)},99187:function(e,t,r){r.r(t)},60030:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}});class r{hoverImageZoom(e){if(0===this.zoomImage.length)return;let t=e.currentTarget;if(0!==e.offsetX&&0!==e.offsetY){let r=e.offsetX/t.offsetWidth*100,n=e.offsetY/t.offsetHeight*100;t.style.backgroundPosition=`${r}% ${n}%`}}constructor(e){(function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})(this,"zoomImage",void 0),this.zoomImage=e}}},24074:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});const n=function(e){return e&&e.__esModule?e:{default:e}}(r(60030)),o=r(80487);class i{initializeImageZoomController(){let e=(0,o.qsa)(".js-product-image");return!i.imageZoomHandlerInstance&&e.length>0&&(i.imageZoomHandlerInstance=new n.default(e)),i.imageZoomHandlerInstance}constructor(){this.initializeImageZoomController()}}(function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})(i,"imageZoomHandlerInstance",null),window.productImageZoom=new i},87923:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});const n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(51020)),o=r(80487);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}class s{async getProductList(){let e=(0,o.sqs)("[data-product-code]").dataset.productCode,t=new URLSearchParams(window.location.search),r=new URLSearchParams(window.location.hash.slice(1)),n={productCode:e};return t.has("variant")&&"true"==t.get("variant")&&(n.variant=!0),r.has("lens_tinting")&&(n.lens_tinting=r.get("lens_tinting")),r.has("lens_type")&&(n.lens_type=r.get("lens_type")),fetch(Routing.generate("app.route.recommended_products",n)).then((e=>{if(!e.ok)throw Error("Could not load product recommendations");return e.text()})).then((e=>{this.recommendedProductCarousel.innerHTML=e,this.recommendedProductsContainer.classList.toggle("hide")})).catch((e=>console.error(e)))}initLazyLoad(){new window.Lazy({elements_selector:".product-card__image",unobserve_entered:!0,callback_enter:e=>{new window.Lazy({container:e})}})}loadSwiper(){var e;let t=null===(e=(0,o.qs)("[data-productsdata]"))||void 0===e?void 0:e.dataset.productsdata,r=void 0===t?void 0:JSON.parse(t);return new Promise((e=>{if(void 0===r&&e(!1),r.length>2){let e=(0,o.qs)(".js-products-carousel-swiper",this.recommendedProductsContainer);e&&(new n.default(e,{loop:!0,spaceBetween:20,slidesPerView:"auto",slidesPerGroup:1,loopedSlides:8,breakpoints:{640:{spaceBetween:30}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",type:"bullets"},on:{init:()=>{this.initLazyLoad()}},modules:[n.Navigation,n.Pagination]}),(0,o.qsa)(".js-product-price",e).forEach((e=>{e.classList.add("show-product-price")})))}else this.initLazyLoad(),(0,o.qsa)(".carousel-tile",this.recommendedProductsContainer).forEach((e=>{e.classList.add("mr-30"),(0,o.sqs)(".js-product-price",e).classList.add("show-product-price")})),(0,o.hideDOMElement)((0,o.qsa)(".js-swiper-button-prev")),(0,o.hideDOMElement)((0,o.qsa)(".js-swiper-button-next"));e(!0)}))}constructor(e=(0,o.sqs)(".js-recommended-products"),t=(0,o.sqs)(".js-products-carousel")){i(this,"recommendedProductsContainer",void 0),i(this,"recommendedProductCarousel",void 0),this.recommendedProductsContainer=e,this.recommendedProductCarousel=t,this.getProductList().then((()=>this.loadSwiper()))}}},47084:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return u}});const n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(51020)),o=r(80487);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function s(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}class u{initializeMediaCarouselSwipers(e,t){t.on={init(){new window.Lazy({elements_selector:".content-carousel__list .content-lazy",unobserve_entered:!0,use_native:!0})}};let r=(0,o.sqs)(".js-media-carousel-swiper",e);new n.default(r,s(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){i(e,t,r[t])}))}return e}({},t),{modules:[n.Navigation,n.Pagination,n.Autoplay]})),this.validateSwiperComponents(r,t)}validateSwiperComponents(e,t){void 0===t.navigation&&((0,o.sqs)(".js-swiper-media-button-prev",e).classList.add("hide"),(0,o.sqs)(".js-swiper-media-button-next",e).classList.add("hide")),void 0!==t.pagination&&((0,o.sqs)(".js-swiper-media-pagination",e).style.display="inline")}prepareCarouselProductsSwipersData(){this.mediaCarouselSections.forEach((e=>{let t=(0,o.sqs)(".js-media-carousel",e),{carouselInfinite:r,carouselShowSlidesMedium:n,carouselShowSlidesLarge:i,carouselScrollSlides:a}=t.dataset,s={loop:"1"===r,spaceBetween:20,slidesPerView:"auto",slidesPerGroup:1,breakpoints:{640:{slidesPerView:parseInt(String(n),10),slidesPerGroup:parseInt(String(n),10),spaceBetween:30},1024:{slidesPerView:parseInt(String(i),10),slidesPerGroup:parseInt(String(a),10),spaceBetween:30}}};"1"===t.dataset.carouselAutoplay&&(s.autoplay={delay:Number(t.dataset.carouselAutoplayTime)}),"1"===t.dataset.carouselShowArrows&&(s.navigation={nextEl:".js-swiper-media-button-next",prevEl:".js-swiper-media-button-prev"}),"1"===t.dataset.carouselShowDots&&(s.pagination={el:".js-swiper-media-pagination",type:"bullets"}),this.initializeMediaCarouselSwipers(e,s)}))}constructor(e=(0,o.qsa)(".js-media-carousel-section")){i(this,"mediaCarouselSections",void 0),this.mediaCarouselSections=e,e.length>0&&this.prepareCarouselProductsSwipersData()}}},68129:function(e,t,r){var n;Object.defineProperty(t,"__esModule",{value:!0}),r(41702),new(((n=r(47084))&&n.__esModule?n:{default:n}).default)},9044:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});const n=r(80487);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}class a{async importCarouselProductsScript(){(0,n.qs)(".js-products-carousel-section")&&await Promise.resolve().then((()=>i(r(80582))))}async importCarouselMediaScript(){(0,n.qs)(".js-media-carousel-section")&&await Promise.resolve().then((()=>i(r(68129))))}constructor(){this.importCarouselProductsScript(),this.importCarouselMediaScript()}}window.pdpContentPageModule=new a},99357:function(e,t,r){r(99187),r(32398),r(59888),r(29466);const n=l(r(8442)),o=l(r(87923)),i=l(r(39634)),a=l(r(24074)),s=l(r(9044)),u=r(80487);function l(e){return e&&e.__esModule?e:{default:e}}(0,l(r(71001)).default)(),new i.default(void 0,void 0,void 0,!0),new n.default,(0,u.qs)(".js-recommended-products")&&new o.default,a.default,s.default,(()=>{let e=localStorage.getItem("lastViewedProduct");if(null===e)return;let t=JSON.parse(e);t.scrollToProduct=!0,localStorage.setItem("lastViewedProduct",JSON.stringify(t))})()}},function(e){e.O(0,[9755,9281,1020,7037,5127,4488,8442],(function(){return t=99357,e(e.s=t);var t}));e.O()}]);