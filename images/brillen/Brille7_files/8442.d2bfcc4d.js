!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="d2828d95-9020-4fac-878e-81afc58ced1c",e._sentryDebugIdIdentifier="sentry-dbid-d2828d95-9020-4fac-878e-81afc58ced1c")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"00366d72d657503f9ceb4d0bb693214f7c8f4f83"},(self.webpackChunk=self.webpackChunk||[]).push([[8442],{49261:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});const n=r(80487),o=function(e){return e&&e.__esModule?e:{default:e}}(r(58141));class i{displayBreadcrumbsInPdp(){let e=this._localStorage.getRawValue(),t=(0,n.qs)("#js-pdp-breadcrumbs");if(null===e||""===e||null===t)return;t.innerHTML=e;let r=(0,n.sqs)(".breadcrumb__content"),o=r.lastElementChild;if(o&&o.dataset.url){let e=(0,n.createElement)("a","breadcrumb_link");e.href=o.dataset.url,e.innerHTML=o.innerHTML,r.replaceChild(e,o)}let i=(0,n.createElement)("span","breadcrumb_link"),a=(0,n.sqs)("#js-product-page .js-product-name").innerHTML;i.innerText=a,r.appendChild(i)}setBreadcrumbs(e=(0,n.qs)(".breadcrumb__content")){let t=null==e?void 0:e.outerHTML;t&&this._localStorage.setRawValue(t)}resetBreadcrumbs(){let e=(0,n.qs)(".js-viewed-products");e&&(0,n.qsa)(".js-product-card",e).forEach((e=>{e.addEventListener("click",(()=>{this._localStorage.setRawValue("")}))}))}constructor(e=o.default.getInstance("breadcrumbs")){(function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})(this,"_localStorage",void 0),this._localStorage=e}}},8442:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{createViewedProductFromUrl:function(){return f},default:function(){return b},getDuplicatedProducts:function(){return p},replaceDuplicatedProducts:function(){return h},updateCurrentViewedProduct:function(){return g}});const n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(51020)),o=r(80487),i=r(92579),a=u(r(58141)),s=u(r(49261));function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}const d="viewedProducts";function f(){let e=(0,o.sqs)("[data-product-code]").dataset.productCode,t=window.location.hash,{lens_tinting:r,lens_type:n}=(0,i.getHashParameters)();return{productCode:e,tinting:r,lensType:n,configDataParams:t}}function p(e,t){return t.filter((t=>{let r=JSON.parse(t);return e.productCode===r.productCode&&(e.tinting===r.tinting||e.configDataParams===r.configDataParams)}))}function h(e,t){let r=a.default.getInstance(d);t.forEach((e=>{r.removeFromCollection(e)})),r.addToCollection(JSON.stringify(e))}function g(e){var t,r,n;let o=f(),i=p(o,localStorage.getItem(d)?JSON.parse(localStorage.getItem(d)):[]);o.tinting=null!==(t=e.tinting)&&void 0!==t?t:"",o.lensType=null!==(r=e.lensType)&&void 0!==r?r:"",o.configDataParams=null!==(n=e.configDataParams)&&void 0!==n?n:"",h(o,i)}class b{saveProductCode(){let e=f();return new Promise((t=>{this.productsList&&this.productsList.length>9&&this.localStorage.removeFromCollection(this.localStorage.collectionData[0]),p(e,this.localStorage.collectionData).forEach((e=>{this.localStorage.removeFromCollection(e)})),this.localStorage.addToCollection(JSON.stringify(e)),t(!0)}))}filterViewedProduct(e){let t=this.localStorage.collectionData.find((t=>{let r=JSON.parse(t);return e.productCode===r.productCode&&e.tinting===r.tinting}));return void 0!==t?JSON.parse(t):null}getProductList(){this.productsList=this.getProductsList();let e=JSON.stringify(this.productsList),t=Routing.generate("app.route.viewed_products",{productsList:e});return fetch(t,{method:"GET"}).then((e=>e.ok?e.text():"")).then((e=>(this.viewedProductCarousel.innerHTML=e,!0)))}resetProductList(){return new Promise((e=>{var t;let r=(0,o.qs)(".js-products-carousel-swiper",this.viewedProductsContainer),n=r&&(null===(t=r.dataset)||void 0===t?void 0:t.productsdata)?r.dataset.productsdata:null;if(this.localStorage.resetCollection(),n&&"[]"!==n){let e=JSON.parse(n).map((e=>JSON.stringify(e)));this.localStorage.replaceCollection(e),this.getProductCodeList(),this.productsList.length>0&&this.viewedProductsContainer.classList.toggle("hide")}e(!0)}))}initLazyLoad(){new window.Lazy({elements_selector:".product-card__image",unobserve_entered:!0,callback_enter:e=>{new window.Lazy({container:e})}})}loadSwiper(){return new Promise((e=>{if(this.productsList.length>2){let e=(0,o.qs)(".js-products-carousel-swiper",this.viewedProductsContainer);e&&(new n.default(e,{loop:!0,spaceBetween:20,slidesPerView:"auto",slidesPerGroup:1,loopedSlides:8,breakpoints:{640:{spaceBetween:30}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",type:"bullets"},on:{init:()=>{this.initLazyLoad()}},modules:[n.Navigation,n.Pagination]}),(0,o.qsa)(".js-product-price",e).forEach((e=>{e.classList.add("show-product-price")}))),this.breadcrumbs.resetBreadcrumbs()}else this.initLazyLoad(),(0,o.qsa)(".carousel-tile",this.viewedProductsContainer).forEach((e=>{e.classList.add("mr-30"),(0,o.sqs)(".js-product-price",e).classList.add("show-product-price")})),(0,o.hideDOMElement)((0,o.sqs)(".js-swiper-button-prev")),(0,o.hideDOMElement)((0,o.sqs)(".js-swiper-button-next"));e(!0)}))}updateProductInfos(){0!==(0,o.qsa)(".js-product-card",this.viewedProductCarousel).length&&(0,o.qsa)(".js-product-card",this.viewedProductCarousel).forEach((e=>{this.updateProductLink(e)}))}updateProductLink(e){let{productcode:t,lenstinting:r}=(0,o.sqs)(".js-product-card-img",e).dataset,n=this.filterViewedProduct({productCode:t,tinting:r});n&&(0,o.qsa)(".js-product-card-link",e).forEach((e=>{let t=new URL(e.href);t.hash=n.configDataParams,e.href=t.href}))}getProductCodeList(){this.productCodeList=this.localStorage.collectionData.map((e=>JSON.parse(e).productCode))}getProductsList(){return this.localStorage.collectionData.map((e=>JSON.parse(e)))}deleteOldViewedProducts(){return new Promise((e=>{let t=this.localStorage.collectionData.filter((e=>{let t=JSON.parse(e);return t.productCode&&t.tinting&&t.lensType}));this.localStorage.replaceCollection(t),e()}))}constructor(e=(0,o.sqs)(".js-viewed-products"),t=(0,o.sqs)(".js-viewed-products .js-products-carousel"),r=a.default.getInstance(d)){c(this,"viewedProductsContainer",void 0),c(this,"viewedProductCarousel",void 0),c(this,"localStorage",void 0),c(this,"breadcrumbs",void 0),c(this,"productCodeList",void 0),c(this,"productsList",void 0),this.viewedProductsContainer=e,this.viewedProductCarousel=t,this.localStorage=r,0===this.localStorage.collectionData.length?this.saveProductCode():this.deleteOldViewedProducts().then((()=>this.getProductList())).then((()=>this.resetProductList())).then((()=>this.loadSwiper())).then((()=>this.updateProductInfos())).then((()=>this.saveProductCode())),this.breadcrumbs=new s.default}}},80487:function(e,t){function r(e,t=document){let r=t.querySelector(e);if(null===r||r instanceof HTMLElement)return r;throw Error("The element you selected is not an HTML element.")}function n(e,t=document){let n=r(e,t);if(!n)throw Error(`Could not find element with selector: ${e}`);return n}function o(e,t=document){return Array.from(t.querySelectorAll(e))}function i(e,t=null,r=null){let n=document.createElement(e);return Array.isArray(t)?t.length>0&&t.forEach((e=>{n.classList.add(e)})):null!==t&&n.classList.add(t),r&&(Array.isArray(r)?r.length>0&&r.forEach((e=>{n.setAttribute(e.name,e.value)})):n.setAttribute(r.name,r.value)),n}function a(e,t="EUR"){if(0===e)return Translator.trans("prices.included","products");let r=Number((e/100).toFixed(2));return new Intl.NumberFormat("fr-BE",{style:"currency",currency:t}).format(r)}function s(e,t="EUR"){let r=i("div");if(0===e)r.innerHTML=Translator.trans("prices.included","products");else{let[n,o,a]=(e/100).toLocaleString("de-DE",{style:"currency",currency:t}).split(/\s|,/gm);r.innerHTML=n;let s=i("sup");s.classList.add("top-[-0.3em]"),s.innerHTML=`,${o}`,r.appendChild(s),r.innerHTML+="&nbsp;"+a}return r}function c(e){return e.charAt(0).toUpperCase()+e.slice(1)}function u(e,t="block"){Array.isArray(e)?e.length>0&&e.forEach((e=>{e.style.display=t})):e.style.display=t}function l(e){Array.isArray(e)?e.length>0&&e.forEach((e=>{e.style.display="none"})):e.style.display="none"}function d(e){return null===e.offsetParent}function f(e){return new Promise((t=>{if(r(e))return t(r(e));let n=new MutationObserver((()=>{r(e)&&(t(r(e)),n.disconnect())}));n.observe(document.body,{childList:!0,subtree:!0,attributes:!0})}))}function p(e){let t=[],r=e.previousSibling;for(;r;)t.push(r),r=r.previousSibling;return t}function h(e,t){let r=new Event(t);e.addEventListener(t,null,!0),e.dispatchEvent(r)}function g(e,t){var r;e&&t&&(null===(r=e.parentNode)||void 0===r||r.insertBefore(t,e.nextSibling))}function b(e,t,r){e.insertBefore(t,r)}function m(e,t){e.dataset.count=t.toString(),e.innerHTML=t.toString(),t>0?e.classList.remove("hide"):e.classList.add("hide")}function y(e){let t=parseInt((e||window.event).key,10);return!(isNaN(t)||t>31&&(t<48||t>57))}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{capitalize:function(){return c},createElement:function(){return i},createPriceWithSeperatedCentElement:function(){return s},debounce:function(){return w},formatPrice:function(){return a},getPreviousSiblings:function(){return p},hideDOMElement:function(){return l},insertAfter:function(){return g},insertBefore:function(){return b},isDOMElementHidden:function(){return d},isNumber:function(){return y},isObjectEmpty:function(){return P},qs:function(){return r},qsa:function(){return o},showDOMElement:function(){return u},sqs:function(){return n},triggerEvent:function(){return h},updateCount:function(){return m},waitForDOMElement:function(){return f}});const w=(e,t=300)=>{let r;return function(...n){clearTimeout(r),r=setTimeout((()=>e.apply(this,n)),t)}};function P(e){return 0===Object.keys(e).length&&e.constructor===Object}},92579:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{formatWithSpecialPrice:function(){return f},generateNewHashParameters:function(){return h},generateNewLocationHashString:function(){return g},getHashParameters:function(){return p},getOptionPrice:function(){return l},getOptionPrices:function(){return d},initImageOverlay:function(){return w},updateLinkWithProductConfig:function(){return P},updateProductImageTinting:function(){return b},updateProductImagesTinting:function(){return m}});const n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(51020)),o=r(80487),i=function(e){return e&&e.__esModule?e:{default:e}}(r(55181));function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){a(e,t,r[t])}))}return e}function u(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function l(e,t,r=productConfiguration.customerOptionPrices){return r[e][t].amount}function d(e,t,r,n){let o=null;var i;t&&t[r]&&(o=null!==(i=t[r][n])&&void 0!==i?i:null);return{basePrice:e[r][n],specialPrice:o}}function f(e,t,r){let n;e="number"==typeof e?e:e.amount,(t||0===t)&&(t="number"==typeof t?t:t.amount),r&&(r=0!==e);let i=(0,o.sqs)("#js-prices-template").content.cloneNode(!0);if("number"!=typeof t)n=(0,o.sqs)("#js-price-template .prices-container",i);else{n=(0,o.sqs)("#js-special-price-template .prices-container",i);let e=(0,o.sqs)(".js-special-price",n),a=(0,o.sqs)(".js-special-price-amount",n);if(e.dataset.amount=String(t),a.innerText="",r&&0!==t){let e=(0,o.createElement)("span");e.innerHTML="+ ",a.appendChild(e)}let s=document.createTextNode((0,o.formatPrice)(t));a.appendChild(s)}let a=(0,o.sqs)(".jss-regular-price",n),s=(0,o.sqs)(".jss-regular-price-amount",n);if(a.dataset.amount=String(e),s.innerText="",r){let e=(0,o.createElement)("span");e.innerHTML="+&nbsp;",s.appendChild(e)}let c=document.createTextNode((0,o.formatPrice)(e));return s.appendChild(c),n}function p(e=window.location.hash){let t={};return e&&e.slice(1).split("&").forEach((e=>{let[r,n]=e.split("=");t[r]=n})),t}function h(e,t,r){let n=c({},r);return n[e]=t,n}function g(e){let t=[];return Object.entries(e).forEach((e=>{let[r,n]=e;t.push(`${r}=${n}`)})),`#${t.join("&")}`}function b(e,t,r){let n=`https://img42.brille24.de/source/${t}?angle=${Number(r.dataset.angle)}&tinting=${e}`;r.setAttribute("src",n),r.style.backgroundImage=`url(${n})`}function m(e,t,r){Array.isArray(r)?r.forEach((r=>{b(e,t,r)})):b(e,t,r)}function y(e,t={}){return new n.default(e,u(c({},{lazy:!0,observer:!0,observeParents:!0,spaceBetween:10,normalizeSlideIndex:!0},t),{modules:[n.Navigation,n.Pagination,n.Thumbs,n.Zoom]}))}function w(){let e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i,t=y(".js-overlay-images-swiper",{slidesPerView:"auto",centeredSlides:e.test(navigator.userAgent),freeMode:e.test(navigator.userAgent),watchSlidesProgress:!0}),r=y(".js-overlay-images-swiper-thumbs",{clickable:!0,zoom:{maxRatio:3},navigation:{nextEl:".js-overlay-swiper-button-next",prevEl:".js-overlay-swiper-button-prev"},thumbs:{swiper:t}}),n=(0,o.qs)(".zoom-overlay"),a=!!n&&new i.default(n,{fullWidth:!0});(0,o.qsa)(".js-zoom-trigger").forEach(((e,n)=>{e.addEventListener("click",(()=>{t.slideTo(n),r.slideTo(n),a&&a.openScreen()}))}))}function P(e,t=!0){let r=e.href.indexOf("#"),n=-1===r?e.href:e.href.slice(0,r),o=n;t&&!new URLSearchParams(e.search).has("psmToken")&&(o=function(e){let t=new URLSearchParams(window.location.search).get("psmToken");return t&&(t=encodeURIComponent(t),e+=`?psmToken=${t}`),e}(n)),o+=window.location.hash,e.setAttribute("href",o)}}}]);